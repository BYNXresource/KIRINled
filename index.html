<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KIRIN | STM32 LED Driver V2</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- ç°ä»£ç§‘æŠ€é£ æ ¸å¿ƒå˜é‡ --- */
        :root {
            --bg-base: #09090b;       /* æ·±é‚ƒçš„ç°é»‘è‰² */
            --bg-surface: rgba(255, 255, 255, 0.03); /* æ¯›ç»ç’ƒè¡¨é¢ */
            --border-subtle: rgba(255, 255, 255, 0.08);
            --border-hover: rgba(255, 255, 255, 0.2);
            --text-main: #f4f4f5;
            --text-muted: #a1a1aa;
            
            /* æ¸å˜è‰² */
            --accent-cyan: #22d3ee;
            --accent-violet: #818cf8;
            --accent-pink: #f472b6;
            --alert-orange: #f59e0b;
            --alert-yellow: #eab308;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-base);
            color: var(--text-main);
            font-family: 'Inter', -apple-system, sans-serif;
            overflow-x: hidden;
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }

        /* --- å¼¥æ•£å…‰æ¸å˜èƒŒæ™¯ (Aurora Effect) --- */
        .ambient-bg {
            position: fixed;
            top: 0; left: 0; width: 100vw; height: 100vh;
            z-index: -1;
            overflow: hidden;
            background: var(--bg-base);
        }
        .blob {
            position: absolute;
            filter: blur(100px);
            opacity: 0.25;
            border-radius: 50%;
            animation: float 20s infinite alternate cubic-bezier(0.4, 0, 0.2, 1);
        }
        .blob-1 { top: -10%; left: -10%; width: 50vw; height: 50vw; background: var(--accent-violet); }
        .blob-2 { bottom: -20%; right: -10%; width: 60vw; height: 60vw; background: var(--accent-cyan); animation-delay: -5s; }
        .blob-3 { top: 40%; left: 50%; width: 40vw; height: 40vw; background: var(--accent-pink); opacity: 0.15; animation-delay: -10s; }

        @keyframes float {
            0% { transform: translate(0, 0) scale(1); }
            100% { transform: translate(10%, 15%) scale(1.1); }
        }

        /* --- é¡¶éƒ¨å¯¼èˆªæ  --- */
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px 5%;
            background: rgba(9, 9, 11, 0.6);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid var(--border-subtle);
        }
        .logo { 
            height: 36px; 
            object-fit: contain;
            filter: drop-shadow(0 0 10px rgba(255,255,255,0.1));
        }
        .nav-links a {
            color: var(--text-muted);
            text-decoration: none;
            margin-left: 32px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        .nav-links a:hover { color: #fff; }

        /* --- ä¸»è§†è§‰åŒºåŸŸ (Hero) --- */
        .hero {
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px 20px;
            position: relative;
        }

        /* æ ‡ç­¾ */
        .version-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 16px;
            background: var(--bg-surface);
            border: 1px solid var(--border-subtle);
            border-radius: 99px;
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--accent-cyan);
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }
        .version-badge .dot {
            width: 6px; height: 6px;
            background: var(--accent-cyan);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--accent-cyan);
        }

        h1 {
            font-size: clamp(3.5rem, 8vw, 7rem);
            font-weight: 800;
            letter-spacing: -0.04em;
            line-height: 1.1;
            background: linear-gradient(135deg, #ffffff 0%, #a1a1aa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 24px;
        }

        .subtitle {
            font-size: 1.15rem;
            color: var(--text-muted);
            max-width: 540px;
            margin-bottom: 48px;
            line-height: 1.6;
        }

        /* é«˜çº§æ„ŸæŒ‰é’® */
        .cta-group { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
        
        .btn {
            padding: 14px 32px;
            border-radius: 99px;
            font-weight: 500;
            font-size: 0.95rem;
            text-decoration: none;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .btn-primary {
            background: #ffffff;
            color: #000000;
            box-shadow: 0 0 0 1px rgba(255,255,255,0.1), 0 8px 20px rgba(255,255,255,0.15);
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 0 1px rgba(255,255,255,0.2), 0 12px 25px rgba(255,255,255,0.25);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.05);
            color: #fff;
            border: 1px solid var(--border-subtle);
            backdrop-filter: blur(10px);
        }
        .btn-secondary:hover { 
            background: rgba(255, 255, 255, 0.08); 
            border-color: var(--border-hover);
        }

        /* --- è­¦å‘Šæç¤ºåŒº (Notices) --- */
        .notices-section {
            max-width: 900px;
            margin: -20px auto 80px auto;
            padding: 0 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            position: relative;
            z-index: 10;
        }

        .alert-card {
            background: rgba(15, 15, 17, 0.6);
            backdrop-filter: blur(12px);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid var(--border-subtle);
            border-left: 4px solid;
            display: flex;
            flex-direction: column;
            gap: 12px;
            transition: transform 0.3s ease;
        }
        .alert-card:hover { transform: translateX(4px); }
        
        .alert-card.critical { 
            border-left-color: var(--alert-orange);
            background: linear-gradient(90deg, rgba(245, 158, 11, 0.05) 0%, transparent 100%);
        }
        .alert-card.warning { 
            border-left-color: var(--alert-yellow);
            background: linear-gradient(90deg, rgba(234, 179, 8, 0.05) 0%, transparent 100%);
        }

        .alert-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
            font-size: 1.05rem;
        }
        .critical .alert-title { color: var(--alert-orange); }
        .warning .alert-title { color: var(--alert-yellow); }

        .alert-content p {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-bottom: 8px;
            line-height: 1.6;
        }
        .alert-content p:last-child { margin-bottom: 0; }
        .alert-content strong { color: var(--text-main); font-weight: 500; }

        /* --- äº¤äº’å¼ LED æ¼”ç¤ºåŒº --- */
        .demo-section {
            padding: 60px 5%;
            position: relative;
            z-index: 10;
            text-align: center;
        }

        .section-title {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 10px;
        }
        .section-subtitle { color: var(--text-muted); margin-bottom: 50px; font-size: 0.95rem; }

        .led-strip-container {
            width: 100%;
            max-width: 800px;
            height: 54px;
            background: linear-gradient(to bottom, #18181b, #09090b);
            margin: 0 auto 50px auto;
            border-radius: 12px;
            border: 1px solid #27272a;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.8), 0 20px 40px rgba(0,0,0,0.4);
            display: flex;
            align-items: center;
            justify-content: space-evenly;
            padding: 0 15px;
            position: relative;
        }
        .led-strip-container::before, .led-strip-container::after {
            content: ''; width: 8px; height: 8px; background: #09090b;
            border-radius: 50%; border: 1px solid #3f3f46;
        }

        .led {
            width: 16px; height: 16px;
            background-color: #27272a;
            border-radius: 50%;
            position: relative;
            transition: all 0.15s ease-out;
        }
        .led::after {
            content: ''; position: absolute; top: 30%; left: 30%;
            width: 40%; height: 40%; background: rgba(255,255,255,0.8);
            border-radius: 50%; opacity: 0; transition: opacity 0.15s;
        }
        .led.active::after { opacity: 1; }

        .control-panel {
            display: flex;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
            max-width: 900px;
            margin: 0 auto;
        }

        .ctrl-btn {
            background: var(--bg-surface);
            border: 1px solid var(--border-subtle);
            color: var(--text-muted);
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            transition: all 0.2s;
            backdrop-filter: blur(10px);
        }
        .ctrl-btn:hover { 
            border-color: var(--border-hover); 
            color: #fff;
            background: rgba(255, 255, 255, 0.06);
            transform: translateY(-2px);
        }
        .ctrl-btn:active { transform: translateY(0); }

        #status-text {
            margin-top: 30px;
            font-family: 'JetBrains Mono', monospace;
            color: var(--accent-violet);
            font-size: 0.9rem;
            min-height: 20px;
            opacity: 0.8;
        }

        /* --- ç‰¹æ€§å¡ç‰‡ Grid --- */
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            max-width: 1100px;
            margin: 0 auto;
            padding: 50px 5%;
        }

        .card {
            background: var(--bg-surface);
            border: 1px solid var(--border-subtle);
            padding: 40px 30px;
            border-radius: 20px;
            backdrop-filter: blur(20px);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .card::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at top left, rgba(255,255,255,0.05), transparent 70%);
            opacity: 0; transition: opacity 0.3s ease;
        }
        .card:hover { transform: translateY(-5px); border-color: var(--border-hover); }
        .card:hover::before { opacity: 1; }
        
        .card-icon {
            width: 48px; height: 48px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.4rem; margin-bottom: 24px;
        }
        .card h3 { font-size: 1.25rem; margin-bottom: 12px; color: #fff; font-weight: 600; }
        .card p { color: var(--text-muted); font-size: 0.9rem; line-height: 1.5; }
        .card-desc-zh { margin-top: 8px; font-size: 0.85rem !important; opacity: 0.7; }
        
        .code-tag {
            position: absolute; top: 30px; right: 30px;
            font-family: 'JetBrains Mono';
            font-size: 0.75rem;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-muted);
            border: 1px solid var(--border-subtle);
            padding: 4px 10px;
            border-radius: 99px;
        }

        /* --- ä»£ç å±•ç¤ºåŒº --- */
        .code-showcase {
            max-width: 800px;
            margin: 100px auto;
            background: rgba(9, 9, 11, 0.7);
            border-radius: 16px;
            border: 1px solid var(--border-subtle);
            box-shadow: 0 30px 60px rgba(0,0,0,0.4);
            backdrop-filter: blur(20px);
            overflow: hidden;
        }
        .code-header {
            background: rgba(255,255,255,0.02);
            padding: 16px 20px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid var(--border-subtle);
        }
        .window-controls { display: flex; gap: 8px; }
        .dot { width: 10px; height: 10px; border-radius: 50%; }
        .red { background: #ff5f56; } .yellow { background: #ffbd2e; } .green { background: #27c93f; }
        .file-name { margin: 0 auto; color: var(--text-muted); font-size: 0.85rem; font-family: 'Inter'; font-weight: 500; transform: translateX(-25px); }
        
        pre {
            padding: 30px;
            overflow-x: auto;
            color: #e4e4e7;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.7;
        }
        .k-keyword { color: #c678dd; } 
        .k-function { color: #61afef; } 
        .k-type { color: #e5c07b; } 
        .k-string { color: #98c379; } 
        .k-comment { color: #5c6370; font-style: italic; }

        footer {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-muted);
            font-size: 0.85rem;
            border-top: 1px solid var(--border-subtle);
            margin-top: 50px;
        }
        footer strong { color: #fff; font-weight: 600; }

        @media (max-width: 768px) {
            .nav-links { display: none; }
            .led-strip-container { height: 44px; }
            .led { width: 12px; height: 12px; }
            .control-panel { flex-direction: column; width: 100%; padding: 0 20px; }
            pre { font-size: 0.8rem; padding: 20px; }
        }
    </style>
</head>
<body>

    <!-- å¼¥æ•£å…‰èƒŒæ™¯ -->
    <div class="ambient-bg">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
    </div>

    <!-- å¯¼èˆªæ  -->
    <nav>
        <!-- æ¢å¤ BYNX Logo -->
        <img src="96507b78b3b3e62f9de351ea397a7a51.png" alt="BYNX" class="logo">
        <div class="nav-links">
            <a href="#features">Features</a>
            <a href="#demo">Simulation</a>
            <a href="https://github.com/BlueDarkUP" target="_blank">GitHub Repository</a>
        </div>
    </nav>

    <!-- ä¸»è§†è§‰ -->
    <section class="hero">
        <div class="version-badge">
            <span class="dot"></span> Driver v2.0 Available
        </div>
        <h1>STM32 I2C LED<br>Controller</h1>
        <div class="subtitle">
            A high-performance acoustic-optic feedback module engineered for FTC robots. <br>
            ä¸“ä¸º FTC æœºå™¨äººè®¾è®¡çš„å£°å…‰åé¦ˆæ¨¡å—ã€‚
        </div>
        <div class="cta-group">
            <a href="LedModuleDriver.java" download class="btn btn-primary">
                Download Driver
                <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
            </a>
            <a href="LedDemoOpMode.java" download class="btn btn-secondary">
                View OpMode Demo
            </a>
        </div>
    </section>

    <!-- è­¦å‘Šæç¤ºåŒº -->
    <section class="notices-section">
        <!-- I2C å¸¦å®½ä¸¥é‡è­¦å‘Š -->
        <div class="alert-card critical">
            <div class="alert-title">
                <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                Bandwidth & Performance Warning / æ€§èƒ½ä¸å¸¦å®½è­¦å‘Š
            </div>
            <div class="alert-content">
                <p><strong>EN:</strong> Due to the limited I2C bandwidth of the Control Hub, sending commands to KIRIN may temporarily cause other I2C devices on the same hub to become unresponsive, delaying sensor data retrieval. Please <strong>do not adjust lights frequently within active loops</strong>. In TeleOp, this may lead to input lag or loss of control; in Autonomous, it could result in odometry drift and pathing deviations.</p>
                <p><strong>ZH:</strong> ç”±äº Control Hub çš„ I2C å¸¦å®½æœ‰é™ï¼Œå‘ KIRIN å‘é€æŒ‡ä»¤æœŸé—´å¯èƒ½ä¼šå¯¼è‡´åŒä¸€ä¸ª Hub ä¸Šçš„å…¶ä»– I2C è®¾å¤‡çŸ­æš‚æ— å“åº”ï¼Œè‡´ä½¿æ— æ³•åŠæ—¶ä¼ å›ä¼ æ„Ÿå™¨æ•°æ®ã€‚<strong>è¯·ä¸è¦åœ¨ä¸»å¾ªç¯ä¸­é¢‘ç¹åœ°è°ƒæ•´ç¯å…‰</strong>ã€‚åœ¨æ‰‹åŠ¨ç¨‹åºä¸­è¿™å¯èƒ½å¯¼è‡´æ“ä½œè¿Ÿé’æˆ–å¤±æ§ï¼Œåœ¨è‡ªåŠ¨é˜¶æ®µå¯èƒ½å¯¼è‡´åæ ‡ç³»åç§»æˆ–è½¦ä½“è„±ç¦»è·¯å¾„ã€‚</p>
            </div>
        </div>

        <!-- æ¯”èµ›è§„åˆ™è­¦å‘Š -->
        <div class="alert-card warning">
            <div class="alert-title">
                <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                Compliance Notice / æ¯”èµ›åˆè§„æç¤º
            </div>
            <div class="alert-content">
                <p><strong>EN:</strong> The FTC Game Manual contains strict regulations regarding optical effects and brightness. Please carefully check if your light patterns comply with the current season's rules before matches to avoid unnecessary penalties or fouls.</p>
                <p><strong>ZH:</strong> FTC èµ›å­£æ‰‹å†Œå¯¹æœºå™¨äººçš„å…‰æ•ˆæœ‰æ˜ç¡®çš„è§„å®šã€‚è¯·åœ¨æ¯”èµ›ä¸Šåœºå‰ä»”ç»†æ£€æŸ¥æ‚¨çš„ç¯å…‰æ¨¡å¼ï¼ˆå¦‚é—ªçƒé¢‘ç‡ã€äº®åº¦ç­‰ï¼‰æ˜¯å¦è¿è§„ï¼Œä»¥é¿å…åœ¨åœºä¸Šé€ æˆä¸å¿…è¦çš„çŠ¯è§„ã€‚</p>
            </div>
        </div>
    </section>

    <!-- äº¤äº’å¼æ¨¡æ‹ŸåŒº -->
    <section id="demo" class="demo-section">
        <h2 class="section-title">Live Hardware Simulation</h2>
        <p class="section-subtitle">Click buttons to test the TeleOp mapping logic directly in your browser.</p>
        
        <!-- æ¨¡æ‹Ÿç¯å¸¦ -->
        <div class="led-strip-container" id="ledStrip">
            <!-- JSç”Ÿæˆ -->
        </div>

        <!-- æ¨¡æ‹Ÿæ§åˆ¶å° -->
        <div class="control-panel">
            <button class="ctrl-btn" onclick="setMode('solid-red')">pad1.A [Solid Red]</button>
            <button class="ctrl-btn" onclick="setMode('solid-cyan')">pad1.B [Solid Cyan]</button>
            <button class="ctrl-btn" onclick="setMode('wave')">pad1.X[Wave Mode]</button>
            <button class="ctrl-btn" onclick="setMode('strobe')">pad1.Y [Strobe Mode]</button>
            <button class="ctrl-btn" onclick="setMode('single')">dpad_up[Single LED]</button>
            <button class="ctrl-btn" onclick="setMode('off')">dpad_down [Turn OFF]</button>
            <button class="ctrl-btn" onclick="triggerBuzzer()">LB/RB [Trigger Beep]</button>
        </div>
        <div id="status-text">&gt; System initialized. Awaiting commands...</div>
    </section>

    <!-- ç‰¹æ€§å±•ç¤º -->
    <section id="features" class="features">
        <div class="card">
            <div class="card-icon">ğŸŒŠ</div>
            <h3>Dual-Color Wave</h3>
            <p>Creates a smooth breathing animation between two colors.</p>
            <p class="card-desc-zh">æ”¯æŒåŒè‰²æ··åˆå‘¼å¸æµæ°´ï¼Œé€Ÿåº¦å¯è°ƒã€‚</p>
            <span class="code-tag">ENTW</span>
        </div>
        <div class="card">
            <div class="card-icon">ğŸš¨</div>
            <h3>Police Strobe</h3>
            <p>High-frequency alternating flash pattern for alerts.</p>
            <p class="card-desc-zh">è­¦ç¯çˆ†é—ªæ¨¡å¼ï¼Œåˆ†ç»„äº¤æ›¿é—ªçƒã€‚</p>
            <span class="code-tag">ENTST</span>
        </div>
        <div class="card">
            <div class="card-icon">ğŸ”Š</div>
            <h3>Integrated Buzzer</h3>
            <p>Simultaneous sound feedback via I2C commands.</p>
            <p class="card-desc-zh">æ¿è½½èœ‚é¸£å™¨ï¼Œæ”¯æŒè‡ªå®šä¹‰é¢‘ç‡å’Œæ—¶é•¿ã€‚</p>
            <span class="code-tag">BENT</span>
        </div>
        <div class="card">
            <div class="card-icon">ğŸ†”</div>
            <h3>Smart ID Assign</h3>
            <p>Auto-standby after ID assignment (Orange flash on boot).</p>
            <p class="card-desc-zh">ä¸Šç”µæ©™è‰²é—ªçƒï¼Œåˆ†é…IDåè‡ªåŠ¨è¿›å…¥å¾…æœºã€‚</p>
            <span class="code-tag">0x60</span>
        </div>
    </section>

    <!-- ä»£ç å±•ç¤º -->
    <section class="code-showcase">
        <div class="code-header">
            <div class="window-controls">
                <div class="dot red"></div><div class="dot yellow"></div><div class="dot green"></div>
            </div>
            <div class="file-name">LedModuleDriver.java</div>
        </div>
        <pre>
<span class="k-keyword">public void</span> <span class="k-function">setWaveMode</span>(<span class="k-type">char</span> id, <span class="k-type">int</span> color1, <span class="k-type">int</span> color2, <span class="k-type">int</span> speed) {
    <span class="k-comment">// Seamless I2C Command Generation</span>
    <span class="k-type">String</span> cmd = String.<span class="k-function">format</span>(Locale.US, 
        <span class="k-string">"%c ENTW %s %s %d%% %d"</span>,
        id, <span class="k-function">colorToHex</span>(color1), <span class="k-function">colorToHex</span>(color2), speed, brightness
    );
    <span class="k-function">sendCommand</span>(cmd);
}</pre>
    </section>

    <footer>
        <p>MANUFACTURED BY <strong>FTC TEAM 27570</strong> &nbsp;|&nbsp; PUBLISHED BY <strong>BYNX</strong></p>
        <p style="margin-top: 10px; opacity: 0.6;">Copyright &copy; 2026 KIRIN PROJECT. All Rights Reserved.</p>
    </footer>

    <!-- äº¤äº’è„šæœ¬ -->
    <script>
        const strip = document.getElementById('ledStrip');
        const ledCount = 16;
        let animationInterval = null;

        for(let i=0; i<ledCount; i++) {
            let led = document.createElement('div');
            led.className = 'led';
            led.id = 'led-' + i;
            strip.appendChild(led);
        }

        function clearEffects() {
            if(animationInterval) clearInterval(animationInterval);
            document.querySelectorAll('.led').forEach(l => {
                l.style.backgroundColor = '#27272a';
                l.style.boxShadow = 'none';
                l.classList.remove('active');
            });
        }

        function setLedColor(el, color, blur = 15) {
            el.style.backgroundColor = color;
            el.style.boxShadow = `0 0 ${blur}px ${color}, 0 0 ${blur * 2}px ${color}`;
            el.classList.add('active');
        }

        function setMode(mode) {
            clearEffects();
            const status = document.getElementById('status-text');

            if (mode === 'solid-red') {
                status.innerText = "> Executing: setSolidColor(0xFF0044)";
                document.querySelectorAll('.led').forEach(l => setLedColor(l, '#ff0044'));
            } else if (mode === 'solid-cyan') {
                status.innerText = "> Executing: setSolidColor(0x22D3EE)";
                document.querySelectorAll('.led').forEach(l => setLedColor(l, '#22d3ee'));
            } else if (mode === 'off') {
                status.innerText = "> Executing: turnOff() - Standby Mode";
            } else if (mode === 'single') {
                status.innerText = "> Executing: setPixel(0, 0xFFFFFF)";
                setLedColor(document.getElementById('led-0'), '#ffffff');
            } else if (mode === 'wave') {
                status.innerText = "> Executing: setWaveMode(Violet, Cyan, 50)";
                let offset = 0;
                animationInterval = setInterval(() => {
                    offset++;
                    document.querySelectorAll('.led').forEach((l, index) => {
                        let val = Math.sin((index + offset) * 0.4) * 0.5 + 0.5; 
                        let r = Math.floor(129 + (34 - 129) * val);
                        let g = Math.floor(140 + (211 - 140) * val);
                        let b = Math.floor(248 + (238 - 248) * val);
                        let col = `rgb(${r}, ${g}, ${b})`;
                        setLedColor(l, col, val * 15 + 5);
                    });
                }, 50);
            } else if (mode === 'strobe') {
                status.innerText = "> Executing: setStrobeMode(Red, Blue, Fast)";
                let toggle = false;
                animationInterval = setInterval(() => {
                    toggle = !toggle;
                    document.querySelectorAll('.led').forEach((l, index) => {
                        let isRedZone = index < ledCount / 2;
                        if ((isRedZone && toggle) || (!isRedZone && !toggle)) {
                            setLedColor(l, '#ff0044', 20);
                        } else {
                            setLedColor(l, '#3b82f6', 20);
                        }
                    });
                }, 80);
            }
        }

        function triggerBuzzer() {
            const status = document.getElementById('status-text');
            status.innerText = "> Executing: playBeep(1000Hz, 150ms)";
            strip.style.transform = "scale(1.02)";
            setTimeout(() => strip.style.transform = "scale(0.98)", 50);
            setTimeout(() => strip.style.transform = "scale(1.01)", 100);
            setTimeout(() => strip.style.transform = "scale(1)", 150);
        }
    </script>
</body>
</html>
